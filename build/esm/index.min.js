class NTFormat{static textf(){let e=1;const t=arguments,r=function(e){if(e>=0)return e;{const t=-e;let r=~t>>16&65535;r*=65536;return r+(65535&~t)+1}};return t[0].replace(/%[^diubBoxXeEfFgGaAcspn%]*[diubBoxXeEfFgGaAcspn%]/g,(function(a){let n,s=a.substring(1,a.length);n=s.match(/.$/);const g=n[0];if("%"===g)return "%";n=s.match(/^[0-9]+\$/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),n=n.substring(0,n.length-1),e=parseInt(n,10));let l=t[e];"string"!=typeof l&&"number"!=typeof l&&(l=l.toString()),e+=1,n=s.match(/^[-+ #0]+/);let o=!1,i=!1,d=!1,h="";null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("#")&&(o=!0),-1!==n.indexOf("-")&&(i=!0),-1!==n.indexOf(" ")&&(h=" "),-1!==n.indexOf("+")&&(h="+"),-1!==n.indexOf("0")&&(d=!0,"0"));let u=0;n=s.match(/^([0-9]+|\*)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("*")?(u=l,l=t[e],e+=1):u=parseInt(n,10));let p=!1,b=0;n=s.match(/^(\.((-?[0-9]+)|\*)|\.)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),p=!0,-1!==n.indexOf("*")?(b=l,l=t[e],e+=1):1===n.length?b=0:(n=n.substring(1,n.length),b=parseInt(n,10))),n=s.match(/^hh|h|ll|l|L|z|j|t/),null!==n&&(s=s.substring(n.length,s.length));let x="",m=!1;switch(g.toLowerCase()){case"d":case"i":case"u":case"b":case"o":case"x":m=!0;case"e":case"f":case"g":{let e,t="",a=0;switch(m?(isNaN(l)&&(l=parseInt(l,10)),"d"===g||"i"===g?(l<0&&(h="-",l=-l),l=Math.floor(l)):l=l>=0?Math.floor(l):Math.ceil(l)):(isNaN(l)&&(l=parseFloat(l)),l<0&&(h="-",l=-l),p||(b=6)),g.toLowerCase()){case"d":case"i":x+=l.toString(10);break;case"u":x+=r(l).toString(10);break;case"b":x+=r(l).toString(2),o&&(t="0b");break;case"o":x+=r(l).toString(8),o&&(t="0");break;case"x":case"X":x+=r(l).toString(16),o&&(t="0x");break;case"e":x+=l.toExponential(b);break;case"f":x+=l.toFixed(b);break;case"g":0===b&&(b=1),x+=l.toPrecision(b),o||-1===x.indexOf(".")||(x=x.replace(/\.?0+$/,""),x=x.replace(/\.?0+e/,"e"));}if(m){if(p){e=b-x.length;for(let t=0;t<e;t++)x="0"+x;}}else o&&-1===x.indexOf(".")&&(-1!==x.indexOf("e")?x=x.replace("e",".e"):x+=".");if(-1!==x.indexOf("e")){const e=function(e){const t=e.length;return 3===e.length?e.substring(0,t-1)+"00"+e.substring(t-1,t):e.substring(0,t-2)+"0"+e.substring(t-2,t)};x=x.replace(/e[+-][0-9]{1,2}$/,e);}if(a=x.length+t.length+h.length,e=u-a,i)for(let t=0;t<e;t++)x+=" ";if(d)for(let t=0;t<e;t++)x="0"+x;if(x=t+x,x=h+x,!d&&!i)for(let t=0;t<e;t++)x=" "+x;g.toUpperCase()===g&&(x=x.toUpperCase());break}case"c":isNaN(l)||(l=String.fromCharCode(l));case"s":{isNaN(l)||(l=l.toString(10)),x=l,p&&x.length>b&&(x=x.substring(0,b));const e=u-x.length;if(i)for(let t=0;t<e;t++)x+=" ";else {const t=d?"0":" ";for(let r=0;r<e;r++)x=t+x;}break}case"%":x="%";break;case"p":case"n":x="(unsupported)";}return x}))}static datef(e,t,r){const a=r||9,n=new Date(t);n.setUTCHours(n.getUTCHours()+a);const s=n.getUTCFullYear(),g=n.getUTCMonth()+1,l=n.getUTCDate(),o=n.getUTCHours(),i=n.getUTCMinutes(),c=n.getUTCSeconds(),d=n.getUTCMilliseconds(),f=n.getUTCDay(),h=[26085,26376,28779,27700,26408,37329,22303],u=String.fromCharCode(26332)+String.fromCharCode(26085);let p=e;return p=p.replace(/YYYY/g,s.toString()),p=p.replace(/YY/g,(s%100).toString()),p=p.replace(/MM/g,NTFormat.textf("%02d",g)),p=p.replace(/M/g,g.toString()),p=p.replace(/DD/g,NTFormat.textf("%02d",l)),p=p.replace(/D/g,l.toString()),p=p.replace(/hh/g,NTFormat.textf("%02d",o)),p=p.replace(/h/g,o.toString()),p=p.replace(/mm/g,NTFormat.textf("%02d",i)),p=p.replace(/m/g,i.toString()),p=p.replace(/ss/g,NTFormat.textf("%02d",c)),p=p.replace(/s/g,c.toString()),p=p.replace(/000/g,NTFormat.textf("%03d",d)),p=p.replace(/aaaa/g,String.fromCharCode(h[f])+u),p=p.replace(/aaa/g,String.fromCharCode(h[f])),p=p.replace(/dddd/g,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f]),p=p.replace(/ddd/g,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f]),p=p.replace(/day/g,f.toString()),p}static jpdate(e){return NTFormat.datef("YYYY-MM-DDThh:mm:ss+09:00",e,9)}}

module.exports=NTFormat;
