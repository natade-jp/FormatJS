class NTFormat{static textf(){let e=1;const t=arguments,r=function(e){if(e>=0)return e;{const t=-e;let r=~t>>16&65535;r*=65536;return r+(65535&~t)+1}};return t[0].replace(/%[^diubBoxXeEfFgGaAcspn%]*[diubBoxXeEfFgGaAcspn%]/g,(function(a){let n,s=a.substring(1,a.length);n=s.match(/.$/);const g=n[0];if("%"===g)return "%";n=s.match(/^[0-9]+\$/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),n=n.substring(0,n.length-1),e=parseInt(n,10));let l=t[e];"string"!=typeof l&&"number"!=typeof l&&(l=l.toString()),e+=1,n=s.match(/^[-+ #0]+/);let i=!1,o=!1,d=!1,u="";null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("#")&&(i=!0),-1!==n.indexOf("-")&&(o=!0),-1!==n.indexOf(" ")&&(u=" "),-1!==n.indexOf("+")&&(u="+"),-1!==n.indexOf("0")&&(d=!0,"0"));let h=0;n=s.match(/^([0-9]+|\*)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("*")?(h=l,l=t[e],e+=1):h=parseInt(n,10));let p=!1,b=0;n=s.match(/^(\.((-?[0-9]+)|\*)|\.)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),p=!0,-1!==n.indexOf("*")?(b=l,l=t[e],e+=1):1===n.length?b=0:(n=n.substring(1,n.length),b=parseInt(n,10))),n=s.match(/^hh|h|ll|l|L|z|j|t/),null!==n&&(s=s.substring(n.length,s.length));let m="",x=!1;switch(g.toLowerCase()){case"d":case"i":case"u":case"b":case"o":case"x":x=!0;case"e":case"f":case"g":{let e,t="",a=0;switch(x?(isNaN(l)&&(l=parseInt(l,10)),"d"===g||"i"===g?(l<0&&(u="-",l=-l),l=Math.floor(l)):l=l>=0?Math.floor(l):Math.ceil(l)):(isNaN(l)&&(l=parseFloat(l)),l<0&&(u="-",l=-l),p||(b=6)),g.toLowerCase()){case"d":case"i":m+=l.toString(10);break;case"u":m+=r(l).toString(10);break;case"b":m+=r(l).toString(2),i&&(t="0b");break;case"o":m+=r(l).toString(8),i&&(t="0");break;case"x":case"X":m+=r(l).toString(16),i&&(t="0x");break;case"e":m+=l.toExponential(b);break;case"f":m+=l.toFixed(b);break;case"g":0===b&&(b=1),m+=l.toPrecision(b),i||-1===m.indexOf(".")||(m=m.replace(/\.?0+$/,""),m=m.replace(/\.?0+e/,"e"));}if(x){if(p){e=b-m.length;for(let t=0;t<e;t++)m="0"+m;}}else i&&-1===m.indexOf(".")&&(-1!==m.indexOf("e")?m=m.replace("e",".e"):m+=".");if(-1!==m.indexOf("e")){const e=function(e){const t=e.length;return 3===e.length?e.substring(0,t-1)+"00"+e.substring(t-1,t):e.substring(0,t-2)+"0"+e.substring(t-2,t)};m=m.replace(/e[+-][0-9]{1,2}$/,e);}if(a=m.length+t.length+u.length,e=h-a,o)for(let t=0;t<e;t++)m+=" ";if(d)for(let t=0;t<e;t++)m="0"+m;if(m=t+m,m=u+m,!d&&!o)for(let t=0;t<e;t++)m=" "+m;g.toUpperCase()===g&&(m=m.toUpperCase());break}case"c":isNaN(l)||(l=String.fromCharCode(l));case"s":{isNaN(l)||(l=l.toString(10)),m=l,p&&m.length>b&&(m=m.substring(0,b));const e=h-m.length;if(o)for(let t=0;t<e;t++)m+=" ";else {const t=d?"0":" ";for(let r=0;r<e;r++)m=t+m;}break}case"%":m="%";break;case"p":case"n":m="(unsupported)";}return m}))}static datef(e,t,r){let a=-t.getTimezoneOffset();r&&void 0!==r.timezone_minutes&&(a=0|r.timezone_minutes);const n=new Date(t);r&&r.is_utc||(n.setUTCMinutes(n.getUTCMinutes()+a),a=0);const s=n.getUTCFullYear(),g=n.getUTCMonth()+1,l=n.getUTCDate(),i=n.getUTCHours(),o=n.getUTCMinutes(),c=n.getUTCSeconds(),d=n.getUTCMilliseconds(),f=n.getUTCDay(),u=[26085,26376,28779,27700,26408,37329,22303],h=String.fromCharCode(26332)+String.fromCharCode(26085),p=Math.trunc(a/60),b=Math.abs(a-60*p);let m=e;return m=m.replace(/YYYY/g,s.toString()),m=m.replace(/YY/g,(s%100).toString()),m=m.replace(/MM/g,NTFormat.textf("%02d",g)),m=m.replace(/M/g,g.toString()),m=m.replace(/DD/g,NTFormat.textf("%02d",l)),m=m.replace(/D/g,l.toString()),m=m.replace(/hh/g,NTFormat.textf("%02d",i)),m=m.replace(/h/g,i.toString()),m=m.replace(/mm/g,NTFormat.textf("%02d",o)),m=m.replace(/m/g,o.toString()),m=m.replace(/ss/g,NTFormat.textf("%02d",c)),m=m.replace(/s/g,c.toString()),m=m.replace(/000/g,NTFormat.textf("%03d",d)),m=m.replace(/aaaa/g,String.fromCharCode(u[f])+h),m=m.replace(/aaa/g,String.fromCharCode(u[f])),m=m.replace(/dddd/g,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f]),m=m.replace(/ddd/g,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][f]),m=m.replace(/day/g,f.toString()),m=m.replace(/zzzzzz/g,NTFormat.textf("%+03d:%02d",p,b)),m=m.replace(/zzzzz/g,NTFormat.textf("%+03d%02d",p,b)),m=m.replace(/zzz/g,NTFormat.textf("%+03d",p)),m}}

export { NTFormat as default };
