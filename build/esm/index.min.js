class NTFormat{static textf(){let e=1;const t=arguments,r=function(e){if(e>=0)return e;{const t=-e;let r=~t>>16&65535;r*=65536;return r+(65535&~t)+1}};return t[0].replace(/%[^diubBoxXeEfFgGaAcspn%]*[diubBoxXeEfFgGaAcspn%]/g,(function(a){let n,s=a.substring(1,a.length);n=s.match(/.$/);const g=n[0];if("%"===g)return "%";n=s.match(/^[0-9]+\$/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),n=n.substring(0,n.length-1),e=parseInt(n,10));let l=t[e];"string"!=typeof l&&"number"!=typeof l&&(l=l.toString()),e+=1,n=s.match(/^[-+ #0]+/);let i=!1,o=!1,f=!1,u="";null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("#")&&(i=!0),-1!==n.indexOf("-")&&(o=!0),-1!==n.indexOf(" ")&&(u=" "),-1!==n.indexOf("+")&&(u="+"),-1!==n.indexOf("0")&&(f=!0,"0"));let h=0;n=s.match(/^([0-9]+|\*)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),-1!==n.indexOf("*")?(h=l,l=t[e],e+=1):h=parseInt(n,10));let p=!1,m=0;n=s.match(/^(\.((-?[0-9]+)|\*)|\.)/),null!==n&&(n=n[0],s=s.substring(n.length,s.length),p=!0,-1!==n.indexOf("*")?(m=l,l=t[e],e+=1):1===n.length?m=0:(n=n.substring(1,n.length),m=parseInt(n,10))),n=s.match(/^hh|h|ll|l|L|z|j|t/),null!==n&&(s=s.substring(n.length,s.length));let b="",x=!1;switch(g.toLowerCase()){case"d":case"i":case"u":case"b":case"o":case"x":x=!0;case"e":case"f":case"g":{let e,t="",a=0;switch(x?(isNaN(l)&&(l=parseInt(l,10)),"d"===g||"i"===g?(l<0&&(u="-",l=-l),l=Math.floor(l)):l=l>=0?Math.floor(l):Math.ceil(l)):(isNaN(l)&&(l=parseFloat(l)),l<0&&(u="-",l=-l),p||(m=6)),g.toLowerCase()){case"d":case"i":b+=l.toString(10);break;case"u":b+=r(l).toString(10);break;case"b":b+=r(l).toString(2),i&&(t="0b");break;case"o":b+=r(l).toString(8),i&&(t="0");break;case"x":case"X":b+=r(l).toString(16),i&&(t="0x");break;case"e":b+=l.toExponential(m);break;case"f":b+=l.toFixed(m);break;case"g":0===m&&(m=1),b+=l.toPrecision(m),i||-1===b.indexOf(".")||(b=b.replace(/\.?0+$/,""),b=b.replace(/\.?0+e/,"e"));}if(x){if(p){e=m-b.length;for(let t=0;t<e;t++)b="0"+b;}}else i&&-1===b.indexOf(".")&&(-1!==b.indexOf("e")?b=b.replace("e",".e"):b+=".");if(-1!==b.indexOf("e")){const e=function(e){const t=e.length;return 3===e.length?e.substring(0,t-1)+"00"+e.substring(t-1,t):e.substring(0,t-2)+"0"+e.substring(t-2,t)};b=b.replace(/e[+-][0-9]{1,2}$/,e);}if(a=b.length+t.length+u.length,e=h-a,o)for(let t=0;t<e;t++)b+=" ";if(f)for(let t=0;t<e;t++)b="0"+b;if(b=t+b,b=u+b,!f&&!o)for(let t=0;t<e;t++)b=" "+b;g.toUpperCase()===g&&(b=b.toUpperCase());break}case"c":isNaN(l)||(l=String.fromCharCode(l));case"s":{isNaN(l)||(l=l.toString(10)),b=l,p&&b.length>m&&(b=b.substring(0,m));const e=h-b.length;if(o)for(let t=0;t<e;t++)b+=" ";else {const t=f?"0":" ";for(let r=0;r<e;r++)b=t+b;}break}case"%":b="%";break;case"p":case"n":b="(unsupported)";}return b}))}static datef(e,t,r){let a=-t.getTimezoneOffset();r&&void 0!==r.timezone_minutes&&(a=0|r.timezone_minutes);const n=new Date(t);r&&r.is_utc?a=0:n.setUTCMinutes(n.getUTCMinutes()-n.getTimezoneOffset());const s=n.getUTCFullYear(),g=n.getUTCMonth()+1,l=n.getUTCDate(),i=n.getUTCHours(),o=n.getUTCMinutes(),c=n.getUTCSeconds(),f=n.getUTCMilliseconds(),d=n.getUTCDay(),u=[26085,26376,28779,27700,26408,37329,22303],h=String.fromCharCode(26332)+String.fromCharCode(26085),p=Math.trunc(a/60),m=Math.abs(a-60*p);let b=e;return b=b.replace(/YYYY/g,s.toString()),b=b.replace(/YY/g,(s%100).toString()),b=b.replace(/MM/g,NTFormat.textf("%02d",g)),b=b.replace(/M/g,g.toString()),b=b.replace(/DD/g,NTFormat.textf("%02d",l)),b=b.replace(/D/g,l.toString()),b=b.replace(/hh/g,NTFormat.textf("%02d",i)),b=b.replace(/h/g,i.toString()),b=b.replace(/mm/g,NTFormat.textf("%02d",o)),b=b.replace(/m/g,o.toString()),b=b.replace(/ss/g,NTFormat.textf("%02d",c)),b=b.replace(/s/g,c.toString()),b=b.replace(/000/g,NTFormat.textf("%03d",f)),b=b.replace(/aaaa/g,String.fromCharCode(u[d])+h),b=b.replace(/aaa/g,String.fromCharCode(u[d])),b=b.replace(/dddd/g,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d]),b=b.replace(/ddd/g,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d]),b=b.replace(/day/g,d.toString()),b=b.replace(/zzzzzz/g,NTFormat.textf("%+03d:%02d",p,m)),b=b.replace(/zzzzz/g,NTFormat.textf("%+03d%02d",p,m)),b=b.replace(/zzz/g,NTFormat.textf("%+03d",p)),b}}

export { NTFormat as default };
